#:kivy 2.0.0

# --------------------------------------------------------->
# Copyrights (c) to UR's tech.ltd 2021. All rights reserved
# Author: Uday lal
# company: UR's tech.ltd
# --------------------------------------------------------->

#:import get_color_from_hex kivy.utils.get_color_from_hex
#:import window kivy.core.window


<HomeScreen>:
    id: home_screen

    MDBoxLayout:
        orientation: "vertical"

        MDToolbar:
            title: "Propoint"
            md_bg_color: rail.md_bg_color
            left_action_items: [["menu", lambda x: home_screen.rail_open()]]

        MDBoxLayout:

            MDNavigationRail:
                id: rail
                md_bg_color: get_color_from_hex("#9962d1")
                color_normal: get_color_from_hex("#ecd9ff")
                color_active: None
                use_hover_behavior: True
                hover_bg: 0, 0, 0, .2
                use_resizeable: True

                MDNavigationRailItem:
                    icon: "home"
                    text: "Home"

                    on_release:
                        app.root.screen_transition_home()

                MDNavigationRailItem:
                    icon: "application-settings"
                    text: "Setting"

                    on_release:
                        app.root.screen_transition_setting()

                MDNavigationRailItem:
                    icon: "teach"
                    text: "Tutorial"

                    on_release:
                        app.root.screen_transition_tutorial()

    MDFloatingActionButtonSpeedDial:
        data: home_screen.flat_icon_button_data
        root_button_anim: True
        hint_animation: True
        callback: home_screen.open_file_manager


    AnchorLayout:
        Image:
            source: "assets/images/empty.png"
            size_hint_x: None
            size_hint_y: None
            width: 300
            height: 300

<SettingScreen>:
    id: setting_screen

    MDBoxLayout:
        orientation: "vertical"

        MDToolbar:
            title: "Propoint"
            md_bg_color: rail.md_bg_color
            left_action_items: [["menu", lambda x: setting_screen.rail_open()]]

        MDBoxLayout:

            MDNavigationRail:
                id: rail
                md_bg_color: get_color_from_hex("#9962d1")
                color_normal: get_color_from_hex("#ecd9ff")
                color_active: None
                use_hover_behavior: True
                hover_bg: 0, 0, 0, .2
                use_resizeable: True

                MDNavigationRailItem:
                    icon: "home"
                    text: "Home"

                    on_release:
                        app.root.screen_transition_home()

                MDNavigationRailItem:
                    icon: "application-settings"
                    text: "Setting"

                    on_release:
                        app.root.screen_transition_setting()

                MDNavigationRailItem:
                    icon: "teach"
                    text: "Tutorial"

                    on_release:
                        app.root.screen_transition_tutorial()

    MDFloatingActionButtonSpeedDial:
        data: setting_screen.flat_icon_button_data
        root_button_anim: True
        hint_animation: True
        callback: setting_screen.open_file_manager

<TutorialScreen>:
    id: tutorial_screen

    MDBoxLayout:
        orientation: "vertical"

        MDToolbar:
            title: "Propoint"
            md_bg_color: rail.md_bg_color
            left_action_items: [["menu", lambda x: tutorial_screen.rail_open()]]

        MDBoxLayout:

            MDNavigationRail:
                id: rail
                md_bg_color: get_color_from_hex("#9962d1")
                color_normal: get_color_from_hex("#ecd9ff")
                color_active: None
                use_hover_behavior: True
                hover_bg: 0, 0, 0, .2
                use_resizeable: True

                MDNavigationRailItem:
                    icon: "home"
                    text: "Home"

                    on_release:
                        app.root.screen_transition_home()

                MDNavigationRailItem:
                    icon: "application-settings"
                    text: "Setting"

                    on_release:
                        app.root.screen_transition_setting()

                MDNavigationRailItem:
                    icon: "teach"
                    text: "Tutorial"

                    on_release:
                        app.root.screen_transition_tutorial()

    MDFloatingActionButtonSpeedDial:
        data: tutorial_screen.flat_icon_button_data
        root_button_anim: True
        hint_animation: True
        callback: tutorial_screen.open_file_manager

<Cell>:
    canvas:
        Color:
            rgba: 0, 0, 0, 1
        Line:
            width: 2
            rectangle: (self.x, self.y, self.width, self.height)

<DashBoard>:
    pos: (app.root.editor_screen.ids.rail.width,  0)
    size: (window.Window.width, window.Window.height - (app.root.editor_screen.ids.tool_bar.height + app.root.editor_screen.drop_down_tool_bar_height))

<RecyclerDashBoardLayout>:
    id: recycle_view
    viewclass: 'Cell'

    RecycleGridLayout:
        default_size: None, dp(56)
        default_size_hint: 1, None
        size_hint_y: None
        height: self.minimum_height
        cols: recycle_view.max_cols

<EditorScreen>:
    id: editor_screen
    drop_down_tool_bar_height: 50

    MDBoxLayout:
        orientation: "vertical"

        MDToolbar:
            id: tool_bar
            title: "Edit workbook"
            md_bg_color: rail.md_bg_color
            left_action_items: [["arrow-left", lambda x: editor_screen.back_to_home()]]

        MDBoxLayout:
            id: container
            MDNavigationRail:
                id: rail
                md_bg_color: get_color_from_hex("#9962d1")
                color_normal: get_color_from_hex("#ecd9ff")
                color_active: None
                use_hover_behavior: True
                hover_bg: 0, 0, 0, .2
                use_resizeable: True

                MDNavigationRailItem:
                    icon: "cursor-default"
                    text: "Select"

                MDNavigationRailItem:
                    icon: "google-spreadsheet"
                    text: "Marge data"

            Widget:
                id: main_tool_bar
                canvas.before:
                    Color:
                        rgba: get_color_from_hex("#bca3d6")
                    Rectangle:
                        pos: rail.width, ((window.Window.height - tool_bar.height) - editor_screen.drop_down_tool_bar_height)
                        size: tool_bar.width, editor_screen.drop_down_tool_bar_height

                MDBoxLayout:
                    pos: rail.width, ((window.Window.height - tool_bar.height) - 50)

                    MDDropDownItem:
                        id: drop_item_sheets
                        text: "Sheets"
                        font_name: "assets/fonts/Heebo-Regular.ttf"
                        on_release: editor_screen.toolbar_menu_sheets()

                    MDDropDownItem:
                        id: drop_item_tools
                        text: "Tools"
                        font_name: "assets/fonts/Heebo-Regular.ttf"
                        on_release: editor_screen.toolbar_menu_tools()

            Widget:
                id: container
                pos: (rail.width, window.Window.height - (tool_bar.height + main_tool_bar.height))
